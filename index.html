<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>HR-pomoc</title>
		<link href="xml.php?x=./component/page/controller-page.scxml" rel="statechart" />
		<script type="text/javascript" src="statechartz.js"></script>
		<!--[if IE]>
		<script type="text/javascript" src="json2.js"></script>
		<script type="text/javascript" src="sarissa.js"></script>
		<![endif]-->
		<script type="text/javascript">
			var menuDoc = null;
			var menuProc = null;
			var menuUri = 'component/menu/controller-menu.xsl';
			var menuNode = null;
			
			window.onload = function(){
				menuNode = document.getElementById("menu");
				menuProc = new XSLTProcessor();
				menuProc.importStylesheet(getSource(menuUri));
				Statechartz.loadFromDocument();
				document.statechart.raise('homepage');
				//document.statechart.raise('nabidka_sluzeb');
			}
			function showContent(aInLayout,aChange){
				menuNode.innerHTML = '';
				menuProc.setParameter(null, "stateId", document.statechart._name);
				var fragment = menuProc.transformToFragment(Statechartz.doc, document);
				menuNode.appendChild(fragment);
				var main = document.getElementById('main');
				main.innerHTML = aInLayout + "\n" + JSON.stringify(aChange);
			}
			function getSource(aUri){
				var http = new XMLHttpRequest(); 
				http.open("GET",aUri,false);
				http.send(null);
				return http.responseXML;
			}
		</script>
	</head>
	<body>
		<div id="menu">
		
		</div>
		<pre id="main">
		</pre>
	</body>
</html>